name: Issue and PR Triage
on:
  pull_request:
    types: [review_requested]
  issues:
    types: [opened]
jobs:
  triage:
    name: Triage issue/PR
    runs-on: ubuntu-20.04
    steps:
      - name: Add team label
        uses: andymckay/labeler@1.0.4
        with:
          add-labels: "team: workspace"
      - name: Assign PR to Project
        uses: alex-page/github-project-automation-plus@v0.8.1
        if: github.event_name == 'pull_request'
        with:
          project: 'https://github.com/orgs/gitpod-io/projects/16'
          column: 'In Progress'
          repo-token: ${{ secrets.LABELER_TOKEN }}
      - name: Assign Issue to Project
        uses: alex-page/github-project-automation-plus@v0.8.1
        if: github.event_name == 'issues'
        with:
          project: 'https://github.com/orgs/gitpod-io/projects/16'
          column: 'No status'
          repo-token: ${{ secrets.LABELER_TOKEN }}
