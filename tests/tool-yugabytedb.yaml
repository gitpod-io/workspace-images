# ysql api
- desc: it should run ysql postgres-api cli
  entrypoint: [bash, -i, -c]
  command: [ysqlsh -V]
  assert:
  - stdout.indexOf("psql (PostgreSQL) 11.2-YB-2.12.1.0-b0") != -1
  - status == 0
# - desc: it should serve postgres api
#   entrypoint: [bash, -i, -c]
#   command: [ysqlsh -l]
#   assert:
#   - stdout.indexOf("List of databases") != -1
#   - status == 0
# ycql api  
- desc: it should run ycql cassandra-api cli
  entrypoint: [bash, -i, -c]
  command: [ycqlsh --version]
  assert:
  - stdout.indexOf("ycqlsh 5.0.1") != -1
  - status == 0
# - desc: it should serve cassandra api
#   entrypoint: [bash, -i, -c]
#   command: [ycqlsh -e "desc keyspaces"]
#   assert:
#   - stdout.indexOf("system_schema") != -1
#   - status == 0
# data path  
- desc: it should find the data folder
  command: [ls, /var/ybdp]
  assert:
  - status == 0
